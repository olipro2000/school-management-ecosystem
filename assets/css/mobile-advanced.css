/* Advanced Mobile Enhancements */

@media (max-width: 768px) {
    /* Pull to refresh indicator */
    body::before {
        content: '';
        position: fixed;
        top: 0;
        left: 50%;
        transform: translateX(-50%);
        width: 40px;
        height: 40px;
        background: linear-gradient(135deg, #667eea, #764ba2);
        border-radius: 50%;
        opacity: 0;
        z-index: 9999;
        pointer-events: none;
    }
    
    /* Floating action button style for primary actions */
    .btn-primary.btn-lg {
        position: fixed;
        bottom: 80px;
        right: 15px;
        border-radius: 50%;
        width: 56px;
        height: 56px;
        padding: 0;
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
        z-index: 1000;
    }
    
    /* Swipe indicators */
    .table-responsive::after {
        content: '← Swipe →';
        position: absolute;
        bottom: 10px;
        right: 10px;
        font-size: 10px;
        color: rgba(0,0,0,0.3);
        pointer-events: none;
        animation: fadeOut 3s forwards;
    }
    
    @keyframes fadeOut {
        0%, 50% { opacity: 1; }
        100% { opacity: 0; }
    }
    
    /* Better touch targets */
    a, button, input[type="submit"], input[type="button"] {
        min-height: 44px;
        min-width: 44px;
    }
    
    /* Smooth scrolling */
    * {
        scroll-behavior: smooth;
    }
    
    /* Card hover effects on mobile */
    .card {
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    /* Loading skeleton */
    .skeleton {
        background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
        background-size: 200% 100%;
        animation: loading 1.5s infinite;
    }
    
    @keyframes loading {
        0% { background-position: 200% 0; }
        100% { background-position: -200% 0; }
    }
    
    /* Bottom sheet style modals */
    .modal.bottom-sheet .modal-dialog {
        position: fixed;
        bottom: 0;
        left: 0;
        right: 0;
        margin: 0;
        max-width: 100%;
    }
    
    .modal.bottom-sheet .modal-content {
        border-radius: 20px 20px 0 0;
        border: none;
    }
    
    /* Sticky headers in tables */
    .table thead th {
        position: sticky;
        top: 0;
        background: white;
        z-index: 10;
        box-shadow: 0 2px 4px rgba(0,0,0,0.05);
    }
    
    /* Better form inputs */
    .form-control,
    .form-select {
        background: rgba(255,255,255,0.9);
        backdrop-filter: blur(10px);
        border: 2px solid rgba(102, 126, 234, 0.1);
        transition: all 0.3s ease;
    }
    
    .form-control:focus,
    .form-select:focus {
        background: white;
        border-color: #667eea;
        transform: translateY(-2px);
    }
    
    /* Chip/Tag style badges */
    .badge {
        border-radius: 12px;
        padding: 4px 10px;
        font-weight: 600;
        letter-spacing: 0.3px;
    }
    
    /* Progress indicators */
    .progress {
        height: 6px;
        border-radius: 3px;
        overflow: hidden;
    }
    
    .progress-bar {
        background: linear-gradient(90deg, #667eea, #764ba2);
        animation: progressSlide 2s ease-in-out infinite;
    }
    
    @keyframes progressSlide {
        0% { transform: translateX(-100%); }
        100% { transform: translateX(100%); }
    }
    
    /* Toast notifications */
    .toast {
        position: fixed;
        bottom: 80px;
        left: 50%;
        transform: translateX(-50%);
        background: rgba(0,0,0,0.85);
        color: white;
        padding: 12px 20px;
        border-radius: 25px;
        font-size: 14px;
        z-index: 9999;
        animation: toastSlide 0.3s ease;
    }
    
    @keyframes toastSlide {
        from {
            transform: translateX(-50%) translateY(100px);
            opacity: 0;
        }
        to {
            transform: translateX(-50%) translateY(0);
            opacity: 1;
        }
    }
    
    /* Ripple effect */
    .ripple {
        position: relative;
        overflow: hidden;
    }
    
    .ripple::after {
        content: '';
        position: absolute;
        top: 50%;
        left: 50%;
        width: 0;
        height: 0;
        border-radius: 50%;
        background: rgba(255,255,255,0.5);
        transform: translate(-50%, -50%);
        transition: width 0.6s, height 0.6s;
    }
    
    .ripple:active::after {
        width: 300px;
        height: 300px;
    }
    
    /* Safe area insets for notched devices */
    @supports (padding: max(0px)) {
        body {
            padding-bottom: max(70px, env(safe-area-inset-bottom));
        }
        
        .sidebar {
            padding-bottom: env(safe-area-inset-bottom);
            height: calc(65px + env(safe-area-inset-bottom));
        }
        
        .navbar {
            padding-top: env(safe-area-inset-top);
        }
    }
    
    /* Dark mode support */
    @media (prefers-color-scheme: dark) {
        .card {
            background: rgba(30, 30, 30, 0.95);
            color: #e0e0e0;
        }
        
        .table {
            color: #e0e0e0;
        }
        
        .form-control,
        .form-select {
            background: rgba(50, 50, 50, 0.9);
            color: #e0e0e0;
            border-color: rgba(255,255,255,0.1);
        }
    }
}

/* Tablet optimizations */
@media (min-width: 576px) and (max-width: 1024px) {
    .stats-grid {
        grid-template-columns: repeat(2, 1fr);
    }
    
    .table {
        font-size: 0.85rem;
    }
    
    .modal-dialog {
        max-width: 600px;
        margin: 1.75rem auto;
    }
}

/* Landscape phone optimizations */
@media (max-width: 768px) and (orientation: landscape) {
    .sidebar {
        height: 50px;
    }
    
    .sidebar .nav-link {
        min-height: 40px;
        padding: 3px 2px;
    }
    
    .sidebar .nav-link i {
        font-size: 16px;
    }
    
    .sidebar .nav-link span {
        font-size: 8px;
    }
    
    main {
        padding-bottom: 55px !important;
    }
}
